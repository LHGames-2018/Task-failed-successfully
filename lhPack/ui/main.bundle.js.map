{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/classes/goblin.ts","./src/app/classes/iCharacter.ts","./src/app/classes/items.ts","./src/app/classes/map.ts","./src/app/classes/player.ts","./src/app/classes/scene.ts","./src/app/classes/spritesheetColor.ts","./src/app/classes/tiletype.ts","./src/app/container/container.component.css","./src/app/container/container.component.html","./src/app/container/container.component.ts","./src/app/game/animation/baseAnimation.ts","./src/app/game/animation/deathAnimation.ts","./src/app/game/animation/goblinDeathAnimation.ts","./src/app/game/animation/goblinMeleeAttack.ts","./src/app/game/animation/goblinWalkAnimation.ts","./src/app/game/animation/healAnimation.ts","./src/app/game/animation/meleeAttackAnimation.ts","./src/app/game/animation/miningAnimation.ts","./src/app/game/animation/noDirectionPlayerAnimation.ts","./src/app/game/animation/playerAnimation.ts","./src/app/game/animation/upgradeAnimation.ts","./src/app/game/animation/walkAnimation.ts","./src/app/game/game.component.css","./src/app/game/game.component.html","./src/app/game/game.component.ts","./src/app/game/game.service.ts","./src/app/leaderboard/leaderboard.component.css","./src/app/leaderboard/leaderboard.component.html","./src/app/leaderboard/leaderboard.component.ts","./src/app/leaderboard/leaderboard.service.ts","./src/app/shared/animation/animationDirection.ts","./src/app/shared/animation/usernameProperties.ts","./src/app/shared/messages/bindPlayerMessage.ts","./src/app/shared/messages/messageType.ts","./src/app/shared/messages/updateViewMessage.ts","./src/app/shared/providers/web-socket.service.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"app-container {\\r\\n    height: 100vh;\\r\\n    width: 100%;\\r\\n    background: url(\\\"/assets/images/background.jpg\\\");\\r\\n    display: block;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n* {\\r\\n    font-family: Raleway,Montserrat,Helvetica Neue,Helvetica,Arial,sans-serif;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<app-container></app-container>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n    title = 'app';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport {MatButtonModule, MatIconModule, MatCardModule} from '@angular/material';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { GameComponent } from './game/game.component';\r\nimport { LeaderboardComponent } from './leaderboard/leaderboard.component';\r\nimport { LeaderboardService } from './leaderboard/leaderboard.service';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { GameService } from './game/game.service';\r\nimport { ContainerComponent } from './container/container.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        GameComponent,\r\n        LeaderboardComponent,\r\n        ContainerComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        SharedModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatCardModule\r\n    ],\r\n    providers: [\r\n        LeaderboardService,\r\n        GameService\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import * as PIXI from 'pixi.js';\r\nimport { CharacterInfo } from './characterInfo';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { IAction } from '../shared/actions/iAction';\r\nimport { MeleeAttackAction } from '../shared/actions/meleeAttackAction';\r\nimport { MoveAction } from '../shared/actions/moveAction';\r\nimport { ISubscription } from 'rxjs/Subscription';\r\nimport { GoblinMeleeAttackAnimation } from '../game/animation/goblinMeleeAttack';\r\nimport { GoblinWalkAnimation } from '../game/animation/goblinWalkAnimation';\r\nimport { GoblinDeathAnimation } from '../game/animation/goblinDeathAnimation';\r\nimport { ICharacter } from './iCharacter';\r\n\r\nconst MOVE_ACTION = 'LHGames.Actions.MoveAction';\r\nconst MELEE_ATTACK_ACTION = 'LHGames.Actions.MeleeAttackAction';\r\n\r\nexport class Goblin extends ICharacter {\r\n    private walkAnimation: GoblinWalkAnimation;\r\n    private deathAnimation: GoblinDeathAnimation;\r\n    private meleeAttackAnimation: GoblinMeleeAttackAnimation;\r\n\r\n    @Output()\r\n    public haveToRemove: EventEmitter<any> = new EventEmitter();\r\n\r\n    public constructor(info: CharacterInfo, positionModifier: PIXI.Point, scaleModifier: PIXI.Point,\r\n                        totalMapSize: PIXI.Point) {\r\n        super(info, positionModifier, scaleModifier, null, totalMapSize);\r\n    }\r\n\r\n    public animate(action: IAction): void {\r\n        if (!action) {\r\n            return;\r\n        }\r\n        this.respawn(this.characterPosition);\r\n        switch (action.type) {\r\n            case MOVE_ACTION:\r\n                const moveAction = action as MoveAction;\r\n                this.walk(moveAction.direction);\r\n                break;\r\n            case MELEE_ATTACK_ACTION:\r\n                const meleeAttackAction = action as MeleeAttackAction;\r\n                this.meleeAttack(meleeAttackAction.direction);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public respawn(position: PIXI.Point): void {\r\n        this.info.position = position;\r\n        this.updateCharacterPosition(this.info.position);\r\n        this.walkAnimation.reset();\r\n        this.setCurrentAnimation(this.walkAnimation);\r\n    }\r\n\r\n    public die(point: PIXI.Point): void {\r\n        if (this.deathAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation.isPlaying()) {\r\n           const subscription =  this.currentAnimation.animationDone.subscribe(_ => {\r\n                    subscription.unsubscribe();\r\n                    this.die(point);\r\n            }) as ISubscription;\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.deathAnimation) {\r\n            this.setCurrentAnimation(this.deathAnimation);\r\n        }\r\n        this.currentAnimation.execute(null);\r\n    }\r\n\r\n    private walk(direction: PIXI.Point): void {\r\n        if (this.walkAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.walkAnimation) {\r\n            this.setCurrentAnimation(this.walkAnimation);\r\n        }\r\n        this.playAnimation(direction);\r\n        this.move(direction);\r\n    }\r\n\r\n    private meleeAttack(direction: PIXI.Point) {\r\n        if (this.meleeAttackAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.meleeAttackAnimation) {\r\n            this.setCurrentAnimation(this.meleeAttackAnimation);\r\n        }\r\n        this.playAnimation(direction);\r\n    }\r\n\r\n    protected createAnimations(scaleModifier: PIXI.Point, color: string): void {\r\n        this.deathAnimation = new GoblinDeathAnimation(this.info.name, this.spritePosition, scaleModifier);\r\n        this.deathAnimation.finishedAnimation.subscribe(_ => {\r\n            this.haveToRemove.emit();\r\n        });\r\n        this.meleeAttackAnimation = new GoblinMeleeAttackAnimation(this.info.name, this.spritePosition, scaleModifier);\r\n        this.walkAnimation = new GoblinWalkAnimation(this.info.name, this.spritePosition, scaleModifier);\r\n        this.currentAnimation = this.walkAnimation;\r\n    }\r\n\r\n    protected updateAnimation(): void {\r\n        if (this.meleeAttackAnimation) {\r\n            this.meleeAttackAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.walkAnimation) {\r\n            this.walkAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.deathAnimation) {\r\n            this.deathAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/goblin.ts","import { CharacterInfo } from './characterInfo';\r\nimport { Output, EventEmitter } from '@angular/core';\r\nimport { PlayerAnimation } from '../game/animation/playerAnimation';\r\nimport { AnimationDirection } from '../shared/animation/animationDirection';\r\nimport { IAction } from '../shared/actions/iAction';\r\nimport { Point } from 'pixi.js';\r\n\r\nexport abstract class ICharacter {\r\n    protected info: CharacterInfo;\r\n\r\n    protected currentAnimation: PlayerAnimation;\r\n\r\n    protected spritePosition: Point;\r\n    // We should try to get rid of characterPosition since we have the information in this.info.\r\n    protected characterPosition: Point;\r\n\r\n    protected positionModifier: Point;\r\n    protected scaleModifier: Point;\r\n    protected totalMapSize: Point;\r\n\r\n    @Output()\r\n    public changeAnimation: EventEmitter<any> = new EventEmitter();\r\n\r\n    public abstract animate(action: IAction): void;\r\n    public abstract die(point: Point): void;\r\n    protected abstract updateAnimation(): void;\r\n    protected abstract createAnimations(scaleModifier: Point, color: string): void;\r\n\r\n    public constructor(info: CharacterInfo, positionModifier: Point, scaleModifier: Point,\r\n        color: string, totalMapSize: Point) {\r\n        this.info = info;\r\n        this.characterPosition = new Point(this.info.position.x, this.info.position.y);\r\n        this.spritePosition = new Point();\r\n        this.update(this.info, positionModifier, scaleModifier, totalMapSize);\r\n        this.createAnimations(scaleModifier, color);\r\n    }\r\n\r\n    protected setCurrentAnimation(anim: PlayerAnimation): void {\r\n        this.currentAnimation.endAnimation();\r\n        anim.position = this.currentAnimation.position;\r\n        const oldAnimation = this.currentAnimation;\r\n        this.currentAnimation = anim;\r\n        this.changeAnimation.emit({ oldAnimation: oldAnimation, newAnimation: this.currentAnimation });\r\n    }\r\n\r\n    protected calculatePositionOnScreen(): void {\r\n        this.spritePosition.x = (this.totalMapSize.x + ((this.characterPosition.x -\r\n            this.positionModifier.x) % this.totalMapSize.x)) % this.totalMapSize.x;\r\n        this.spritePosition.y = (this.totalMapSize.y + ((this.characterPosition.y -\r\n            this.positionModifier.y) % this.totalMapSize.y)) % this.totalMapSize.y;\r\n\r\n        this.spritePosition.x *= this.scaleModifier.x;\r\n        this.spritePosition.y *= this.scaleModifier.y;\r\n    }\r\n\r\n    protected getAnimationDirectionFromVector(direction: Point): AnimationDirection {\r\n        if (direction.y === 0 && direction.x === -1) {\r\n            return AnimationDirection.LEFT;\r\n        } else if (direction.y === 0 && direction.x === 1) {\r\n            return AnimationDirection.RIGHT;\r\n        } else if (direction.y === -1 && direction.x === 0) {\r\n            return AnimationDirection.UP;\r\n        } else if (direction.y === 1 && direction.x === 0) {\r\n            return AnimationDirection.DOWN;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    protected move(direction: Point): void {\r\n        this.characterPosition.x += direction.x;\r\n        this.characterPosition.y += direction.y;\r\n    }\r\n\r\n    protected playAnimation(directionPt: Point): void {\r\n        const direction = this.getAnimationDirectionFromVector(directionPt);\r\n        if (Object.values(AnimationDirection).includes(direction)) {\r\n            this.currentAnimation.execute(direction);\r\n        }\r\n    }\r\n\r\n    public update(characterInfo: CharacterInfo, positionModifier: Point,\r\n        scaleModifier: Point, totalMapSize: Point) {\r\n\r\n        this.info = characterInfo;\r\n\r\n        this.positionModifier = positionModifier;\r\n        this.scaleModifier = scaleModifier;\r\n        this.totalMapSize = totalMapSize;\r\n\r\n        this.updateCharacterPosition(this.info.position);\r\n    }\r\n\r\n    protected updateCharacterPosition(position: Point): void {\r\n        if (this.currentAnimation) {\r\n            this.currentAnimation.endAnimation();\r\n        }\r\n        this.characterPosition = position;\r\n        this.spritePosition = new Point();\r\n        this.calculatePositionOnScreen();\r\n        this.updateAnimation();\r\n    }\r\n\r\n    protected getCurrentPosition(): Point {\r\n        return this.characterPosition;\r\n    }\r\n\r\n    public getCurrentAnimation(): PlayerAnimation {\r\n        return this.currentAnimation;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/iCharacter.ts","export enum PurchasableItem {\r\n    Sword,\r\n    Shield,\r\n    Backpack,\r\n    Pickaxe,\r\n    HealthPotion\r\n}\r\n\r\nexport enum UpgradeType {\r\n    CarryingCapacity, // BackPack\r\n    AttackPower, // Sword\r\n    Defence, // Shield\r\n    MaximumHealth, // Heart\r\n    CollectingSpeed, // Pickaxe\r\n    Potion // Potion added for animation\r\n}\r\n\r\nexport enum ItemURL {\r\n    Sword = '../../assets/images/items/sword.png',\r\n    Shield = '../../assets/images/items/shield.png',\r\n    // Backpack = '../../assets/images/items/backpack.png',\r\n    Pickaxe = '../../assets/images/items/pickaxe.png'\r\n}\r\n\r\nexport class Item {\r\n    public static convertToUpgrade(item: PurchasableItem): UpgradeType {\r\n        switch (item) {\r\n            case PurchasableItem.Backpack:\r\n                return UpgradeType.CarryingCapacity;\r\n            case PurchasableItem.HealthPotion:\r\n                return UpgradeType.Potion;\r\n            case PurchasableItem.Pickaxe:\r\n                return UpgradeType.CollectingSpeed;\r\n            case PurchasableItem.Shield:\r\n                return UpgradeType.Defence;\r\n            case PurchasableItem.Sword:\r\n                return UpgradeType.AttackPower;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static convertToPurchase(item: UpgradeType): PurchasableItem {\r\n        switch (item) {\r\n            case UpgradeType.CarryingCapacity:\r\n                return PurchasableItem.Backpack;\r\n            case UpgradeType.Potion:\r\n                return PurchasableItem.HealthPotion;\r\n            case UpgradeType.CollectingSpeed:\r\n                return PurchasableItem.Pickaxe;\r\n            case UpgradeType.Defence:\r\n                return PurchasableItem.Shield;\r\n            case UpgradeType.AttackPower:\r\n                return PurchasableItem.Sword;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static getUrl(item: PurchasableItem): string {\r\n        switch (item) {\r\n            // case PurchasableItem.Backpack:\r\n            //     return ItemURL.Backpack;\r\n            case PurchasableItem.Pickaxe:\r\n                return ItemURL.Pickaxe;\r\n            case PurchasableItem.Shield:\r\n                return ItemURL.Shield;\r\n            case PurchasableItem.Sword:\r\n                return ItemURL.Sword;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    public static getItem(itemName: string): PurchasableItem {\r\n        switch (itemName) {\r\n            case 'Backpack':\r\n                return PurchasableItem.Backpack;\r\n            case 'Pickaxe':\r\n                return PurchasableItem.Pickaxe;\r\n            case 'Shield':\r\n                return PurchasableItem.Shield;\r\n            case 'Sword':\r\n                return PurchasableItem.Sword;\r\n            case 'Health Potion':\r\n                return PurchasableItem.Backpack;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/items.ts","import * as PIXI from 'pixi.js';\r\nimport { TileType } from './tiletype';\r\nimport { ITile } from '../shared/messages/syncMessage';\r\n\r\nconst PNG_RESOLUTION = 128;\r\n\r\nexport class Map {\r\n    private mapInfo: PIXI.Rectangle;\r\n    private container: PIXI.Container;\r\n    private grassBackground: PIXI.extras.TilingSprite;\r\n    private appScreen: PIXI.Rectangle;\r\n\r\n    public getMapContainer(): PIXI.Container {\r\n        return this.container;\r\n    }\r\n\r\n    public getGrassBackground(): PIXI.Container {\r\n        return this.grassBackground;\r\n    }\r\n\r\n    public getCentralPosition(): PIXI.Point {\r\n        return new PIXI.Point(this.mapInfo.x, this.mapInfo.y);\r\n    }\r\n\r\n    public getMapInfo(): PIXI.Rectangle {\r\n        return this.mapInfo;\r\n    }\r\n\r\n    public constructor(screen: PIXI.Rectangle, height: number, width: number, center: PIXI.Point) {\r\n        this.appScreen = screen;\r\n        this.mapInfo = new PIXI.Rectangle(center.x, center.y, width, height);\r\n        this.container = new PIXI.Container();\r\n        this.initGrassBackground();\r\n    }\r\n\r\n    public update(tiles: ITile[][], playerSpritesheet: string[]): boolean {\r\n        if (!tiles || tiles.length === 0 || tiles[0].length === 0) {\r\n            return false;\r\n        }\r\n\r\n        const hasChanged = this.updateSize(tiles.length, tiles[0].length);\r\n\r\n        this.container.removeChildren();\r\n        for (let i = 0; i < tiles.length; i++) {\r\n            for (let j = 0; j < tiles[i].length; j++) {\r\n                let sprite: PIXI.Sprite;\r\n                switch (tiles[i][j].content) {\r\n                    case TileType.House:\r\n                        const guid = tiles[i][j].data;\r\n                        sprite = new PIXI.Sprite(PIXI.loader.resources['house_' + playerSpritesheet[guid]].texture);\r\n                        break;\r\n                    case TileType.Lava:\r\n                        sprite = new PIXI.Sprite(PIXI.loader.resources.lava.texture);\r\n                        break;\r\n                    case TileType.Resource:\r\n                        if (tiles[i][j].data.toLowerCase() === 'true') {\r\n                            sprite = new PIXI.Sprite(PIXI.loader.resources.highDensityResource.texture);\r\n                        } else {\r\n                            sprite = new PIXI.Sprite(PIXI.loader.resources.resource.texture);\r\n                        }\r\n                        break;\r\n                    case TileType.Shop:\r\n                        sprite = new PIXI.Sprite(PIXI.loader.resources.shop.texture);\r\n                        break;\r\n                    case TileType.Wall:\r\n                        sprite = new PIXI.Sprite(PIXI.loader.resources.wall.texture);\r\n                        break;\r\n                    case TileType.Player: // animatedSprite is used\r\n                    case TileType.Tile: // Nothing to show\r\n                    default:\r\n                        break;\r\n                }\r\n                if (sprite !== undefined) {\r\n                    sprite.anchor.x = 0.5;\r\n                    sprite.anchor.y = 0.5;\r\n                    sprite.scale.set(Math.round(this.appScreen.width / this.mapInfo.width) / sprite.width);\r\n                    sprite.x = i * Math.round(this.appScreen.height / this.mapInfo.height);\r\n                    sprite.y = (j % this.mapInfo.width) * Math.round(this.appScreen.width / this.mapInfo.width);\r\n                    this.container.addChild(sprite);\r\n                }\r\n            }\r\n        }\r\n\r\n        return hasChanged;\r\n    }\r\n\r\n    public onResize(newSize: PIXI.Point): void {\r\n        this.appScreen.width = newSize.x;\r\n        this.appScreen.height = newSize.y;\r\n        this.initGrassBackground();\r\n    }\r\n\r\n    public setCentralPosition(position: PIXI.Point): boolean {\r\n        const hasChanged = this.mapInfo.x !== position.x || this.mapInfo.y !== position.y;\r\n        if (hasChanged) {\r\n            this.mapInfo.x = position.x;\r\n            this.mapInfo.y = position.y;\r\n        }\r\n        return hasChanged;\r\n    }\r\n\r\n    private initGrassBackground(): void {\r\n        this.grassBackground = new PIXI.extras.TilingSprite(\r\n            PIXI.loader.resources.grass.texture,\r\n            this.appScreen.width,\r\n            this.appScreen.height\r\n        );\r\n        this.grassBackground.cacheAsBitmap = true;\r\n        const scale = Math.ceil(this.mapInfo.width / (this.appScreen.width / PNG_RESOLUTION));\r\n        this.grassBackground.tileScale.set(1 / scale, 1 / scale);\r\n    }\r\n\r\n    private updateSize(height: number, width: number): boolean {\r\n        const hasChanged = this.mapInfo.width !== width || this.mapInfo.height !== height;\r\n        if (hasChanged) {\r\n            this.mapInfo.width = width;\r\n            this.mapInfo.height = height;\r\n        }\r\n        return hasChanged;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/map.ts","import {Point, BaseTexture} from 'pixi.js';\r\nimport { WalkAnimation } from '../game/animation/walkAnimation';\r\nimport { CharacterInfo } from './characterInfo';\r\nimport { MiningAnimation } from '../game/animation/miningAnimation';\r\nimport { MeleeAttackAnimation } from '../game/animation/meleeAttackAnimation';\r\nimport { IAction } from '../shared/actions/iAction';\r\nimport { CollectAction } from '../shared/actions/collectAction';\r\nimport { MeleeAttackAction } from '../shared/actions/meleeAttackAction';\r\nimport { DeathAnimation } from '../game/animation/deathAnimation';\r\nimport { MoveAction } from '../shared/actions/moveAction';\r\nimport { HealingAnimation } from '../game/animation/healAnimation';\r\nimport { UpgradeType, PurchasableItem, Item } from './items';\r\nimport { UpgradeAction } from '../shared/actions/upgradeAction';\r\nimport { UpgradeAnimation } from '../game/animation/upgradeAnimation';\r\nimport { PurchaseAction } from '../shared/actions/purchaseAction';\r\nimport mergeImages from 'merge-images';\r\nimport { ISubscription } from 'rxjs/Subscription';\r\nimport { ICharacter } from './iCharacter';\r\n\r\nconst MOVE_ACTION = 'LHGames.Actions.MoveAction';\r\nconst COLLECT_ACTION = 'LHGames.Actions.CollectAction';\r\nconst MELEE_ATTACK_ACTION = 'LHGames.Actions.MeleeAttackAction';\r\nconst HEAL_ACTION = 'LHGames.Actions.HealAction';\r\nconst UPGRADE_ACTION = 'LHGames.Actions.UpgradeAction';\r\nconst PURCHASE_ACTION = 'LHGames.Actions.PurchaseAction';\r\n\r\nexport class Player extends ICharacter {\r\n\r\n    private walkAnimation: WalkAnimation;\r\n    private deathAnimation: DeathAnimation;\r\n    private meleeAttackAnimation: MeleeAttackAnimation;\r\n    private miningAnimation: MiningAnimation;\r\n    private healingAnimation: HealingAnimation;\r\n    private upgradeAnimation: UpgradeAnimation;\r\n    private color: string;\r\n    private items: PurchasableItem[] = [];\r\n\r\n    public constructor(info: CharacterInfo, positionModifier: Point, scaleModifier: Point,\r\n                        color: string, totalMapSize: Point) {\r\n        super(info, positionModifier, scaleModifier, color, totalMapSize);\r\n        this.color = color;\r\n    }\r\n\r\n    public animate(action: IAction): void {\r\n        if (!action) {\r\n            return;\r\n        }\r\n        for (const itemServer of action.source.items) {\r\n            const item = Item.getItem(itemServer.name);\r\n            // No special texture added to the spritesheet for those items\r\n            if (item !== PurchasableItem.HealthPotion && item !== PurchasableItem.Backpack) {\r\n                if (!Object.values(this.items).includes(item)) {\r\n                    this.updateTexture(item);\r\n                }\r\n            }\r\n        }\r\n        this.respawn(this.characterPosition);\r\n        this.checkIfDying();\r\n        switch (action.type) {\r\n            case MOVE_ACTION:\r\n                const moveAction = action as MoveAction;\r\n                this.walk(moveAction.direction);\r\n                break;\r\n            case COLLECT_ACTION:\r\n                const collectAction = action as CollectAction;\r\n                this.mining(collectAction.direction);\r\n                break;\r\n            case MELEE_ATTACK_ACTION:\r\n                const meleeAttackAction = action as MeleeAttackAction;\r\n                this.meleeAttack(meleeAttackAction.direction);\r\n                break;\r\n            case HEAL_ACTION:\r\n                this.heal();\r\n                break;\r\n            case UPGRADE_ACTION:\r\n                const upgradeAction = action as UpgradeAction;\r\n                this.upgrade(upgradeAction.upgradeType);\r\n                break;\r\n            case PURCHASE_ACTION:\r\n                const purchaseAction = action as PurchaseAction;\r\n                this.buy(purchaseAction.item);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public respawn(position: Point): void {\r\n        this.info.position = position;\r\n        this.updateCharacterPosition(this.info.position);\r\n        this.walkAnimation.reset();\r\n        this.setCurrentAnimation(this.walkAnimation);\r\n    }\r\n\r\n    public die(point: Point): void {\r\n        if (this.deathAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation.isPlaying()) {\r\n           const subscription =  this.currentAnimation.animationDone.subscribe(_ => {\r\n                    subscription.unsubscribe();\r\n                    this.die(point);\r\n            }) as ISubscription;\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.deathAnimation) {\r\n            this.setCurrentAnimation(this.deathAnimation);\r\n        }\r\n        this.deathAnimation.setSpawnSpot(point);\r\n        this.currentAnimation.execute(null);\r\n    }\r\n\r\n    private updateTexture(item: PurchasableItem): void {\r\n        this.items.push(item);\r\n        const itemUrl = Item.getUrl(item);\r\n        if (itemUrl === null) {\r\n            return;\r\n        }\r\n        mergeImages([ `../../assets/images/players/link_${this.color}.png`, itemUrl])\r\n            .then(url => this.updateAnimationTextures(url));\r\n    }\r\n\r\n    private updateAnimationTextures(imageUrl: string): void {\r\n        const baseTexture = BaseTexture.fromImage(imageUrl);\r\n        this.walkAnimation.updateTexture(baseTexture);\r\n        this.healingAnimation.updateTexture(baseTexture);\r\n        this.meleeAttackAnimation.updateTexture(baseTexture);\r\n        this.miningAnimation.updateTexture(baseTexture);\r\n        this.deathAnimation.updateTexture(baseTexture);\r\n    }\r\n\r\n    private walk(direction: Point): void {\r\n        if (this.walkAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.walkAnimation) {\r\n            this.setCurrentAnimation(this.walkAnimation);\r\n        }\r\n        this.playAnimation(direction);\r\n        this.move(direction);\r\n    }\r\n\r\n    private mining(direction: Point): void {\r\n        if (this.miningAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.miningAnimation) {\r\n            this.setCurrentAnimation(this.miningAnimation);\r\n        }\r\n        this.playAnimation(direction);\r\n    }\r\n\r\n    private meleeAttack(direction: Point): void {\r\n        if (this.meleeAttackAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.meleeAttackAnimation) {\r\n            this.setCurrentAnimation(this.meleeAttackAnimation);\r\n        }\r\n        this.playAnimation(direction);\r\n    }\r\n\r\n    private heal(): void {\r\n        if (this.healingAnimation === undefined) {\r\n            return;\r\n        }\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.healingAnimation) {\r\n            this.setCurrentAnimation(this.healingAnimation);\r\n        }\r\n        this.currentAnimation.execute(null);\r\n    }\r\n\r\n    private upgrade(upgradeType: UpgradeType): void {\r\n        if (this.upgradeAnimation === undefined) {\r\n            return;\r\n        }\r\n        const purchaseItem = Item.convertToPurchase(upgradeType);\r\n        const hasItem = Object.values(this.items).includes(purchaseItem);\r\n        this.upgradeAnimation.setUpgradeType(upgradeType, hasItem);\r\n\r\n        if (this.currentAnimation === undefined || this.currentAnimation !== this.upgradeAnimation) {\r\n            this.setCurrentAnimation(this.upgradeAnimation);\r\n        }\r\n        this.currentAnimation.execute(null);\r\n    }\r\n\r\n    private buy(item: PurchasableItem): void {\r\n        this.updateTexture(item);\r\n        this.upgrade(Item.convertToUpgrade(item));\r\n    }\r\n\r\n    private checkIfDying(): void {\r\n        if  (this.currentAnimation.isPlaying() && this.currentAnimation === this.deathAnimation) {\r\n            this.deathAnimation.startRespawn();\r\n        }\r\n    }\r\n\r\n    protected createAnimations(scaleModifier: Point, color: string): void {\r\n        this.deathAnimation = new DeathAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.deathAnimation.finishedAnimation.subscribe(spawnSpot => {\r\n            this.respawn(spawnSpot);\r\n        });\r\n        this.upgradeAnimation = new UpgradeAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.miningAnimation = new MiningAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.meleeAttackAnimation = new MeleeAttackAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.healingAnimation = new HealingAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.walkAnimation = new WalkAnimation(this.info.name, this.spritePosition, scaleModifier, color);\r\n        this.currentAnimation = this.walkAnimation;\r\n    }\r\n\r\n    protected updateAnimation(): void {\r\n        if (this.healingAnimation) {\r\n            this.healingAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.meleeAttackAnimation) {\r\n            this.meleeAttackAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.miningAnimation) {\r\n            this.miningAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.walkAnimation) {\r\n            this.walkAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.deathAnimation) {\r\n            this.deathAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n        if (this.upgradeAnimation) {\r\n            this.upgradeAnimation.update(this.spritePosition, this.scaleModifier);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/player.ts","import * as PIXI from 'pixi.js';\r\nimport { Map } from './map';\r\nimport { Player } from '../classes/player';\r\nimport { IAction } from '../shared/actions/iAction';\r\nimport { CharacterInfo } from './characterInfo';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { ITile } from '../shared/messages/syncMessage';\r\nimport { DeadPlayer } from '../shared/messages/turnMessage';\r\nimport { Goblin } from './goblin';\r\nimport { ICharacter } from './iCharacter';\r\n\r\nconst TILES_PER_ROW_DEFAULT = 31;\r\nconst TILES_PER_COLUMN_DEFAULT = 31;\r\nconst MIDDLE_POSITION_DEFAULT = 16;\r\nconst PLAYER_JSON_PATH = 'assets/jsons/link_';\r\nconst UPGRADE_JSON_PATH = 'assets/jsons/upgrade_';\r\nconst HOUSE_PNG_PATH = 'assets/images/tiles/house_';\r\n\r\nconst assets = [\r\n    { name: 'grass', path: 'assets/images/tiles/grass.png' },\r\n    { name: 'wall', path: 'assets/images/tiles/wall.png' },\r\n    { name: 'lava', path: 'assets/images/tiles/lava.png' },\r\n    { name: 'resource', path: 'assets/images/tiles/resource.png' },\r\n    { name: 'highDensityResource', path: 'assets/images/tiles/highDensityResource.png' },\r\n    { name: 'shop', path: 'assets/images/tiles/shop.png' },\r\n    { name: 'goblin', path: 'assets/jsons/enemy.json'}\r\n];\r\n\r\nexport class Scene {\r\n\r\n    private app: PIXI.Application;\r\n    private map: Map;\r\n    private players: ICharacter[] = [];\r\n\r\n    @Output()\r\n    public sceneLoaded: EventEmitter<any> = new EventEmitter();\r\n\r\n    public get view(): HTMLCanvasElement {\r\n        return this.app.view;\r\n    }\r\n\r\n    public constructor(private playerSpritesheets: string[], sceneSize: PIXI.Point) {\r\n        this.app = new PIXI.Application({\r\n            width: sceneSize.x,\r\n            height: sceneSize.y,\r\n            antialias: true,\r\n            transparent: false,\r\n            resolution: 1\r\n        });\r\n\r\n        this.loadAssets();\r\n    }\r\n\r\n    public onResize(newSize: PIXI.Point): void {\r\n        this.app.renderer.resize(newSize.x, newSize.y);\r\n        this.app.stage.removeChild(this.map.getGrassBackground());\r\n        this.map.onResize(newSize);\r\n        const grass = this.map.getGrassBackground();\r\n        this.app.stage.addChildAt(grass, 0);\r\n    }\r\n\r\n    public updateMap(mapData: ITile[][]): boolean {\r\n        if (this.map) {\r\n            return this.map.update(mapData, this.playerSpritesheets);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public setMapCentralPosition(position: PIXI.Point): boolean {\r\n        if (this.map) {\r\n            return this.map.setCentralPosition(position);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public getMapCentralPosition(): PIXI.Point {\r\n        return this.map.getCentralPosition();\r\n    }\r\n\r\n    public getMapInfo(): PIXI.Rectangle {\r\n        return this.map.getMapInfo();\r\n    }\r\n\r\n    public playAnimations(actions: IAction[]): void {\r\n        for (const action of actions) {\r\n            const playerId = action.source.playerID as string;\r\n            if (this.isValidPlayer(playerId)) {\r\n                this.players[playerId].animate(action);\r\n            }\r\n        }\r\n    }\r\n\r\n    public respawnDeadPlayers(deadPlayers: DeadPlayer[]): void {\r\n        for (const deadPlayer of deadPlayers) {\r\n            if (this.isValidPlayer(deadPlayer.playerId)) {\r\n                this.players[deadPlayer.playerId].die(deadPlayer.houseLocation);\r\n            }\r\n        }\r\n    }\r\n\r\n    public updatePlayers(playersInfos: CharacterInfo[], totalMapSize: PIXI.Point): void {\r\n        const mapInfo = this.getMapInfo();\r\n        const spriteSize = new PIXI.Point(\r\n            Math.round(this.app.screen.height / mapInfo.height),\r\n            Math.round(this.app.screen.width / mapInfo.width)\r\n        );\r\n        const positionModifier = new PIXI.Point(\r\n            mapInfo.x - Math.floor(mapInfo.width / 2), Math.ceil(mapInfo.y - mapInfo.height / 2)\r\n        );\r\n\r\n        for (const playerGuid in playersInfos) {\r\n            if (this.players[playerGuid]) {\r\n                this.players[playerGuid].update(playersInfos[playerGuid], positionModifier, spriteSize, totalMapSize);\r\n            } else {\r\n                const newPlayer = this.playerSpritesheets[playerGuid] ?\r\n                    new Player(playersInfos[playerGuid], positionModifier, spriteSize, this.playerSpritesheets[playerGuid], totalMapSize) :\r\n                    new Goblin(playersInfos[playerGuid], positionModifier, spriteSize, totalMapSize);\r\n\r\n                if (!this.playerSpritesheets[playerGuid]) {\r\n                    (newPlayer as Goblin).haveToRemove.subscribe(_ => {\r\n                        this.app.stage.removeChild(newPlayer.getCurrentAnimation());\r\n                        const index = this.players.indexOf(newPlayer, 0);\r\n                        if (index > -1) {\r\n                        this.players.splice(index, 1);\r\n                        }\r\n                    });\r\n                }\r\n                newPlayer.changeAnimation.subscribe(animationObject => {\r\n                    this.app.stage.removeChild(animationObject.oldAnimation);\r\n                    this.app.stage.addChild(animationObject.newAnimation);\r\n                });\r\n                this.players[playerGuid] = newPlayer;\r\n                this.app.stage.addChild(newPlayer.getCurrentAnimation());\r\n            }\r\n        }\r\n    }\r\n\r\n    private loadAssets(): void {\r\n        const addedSpritesheet = [];\r\n        for (const playerGuid in this.playerSpritesheets) {\r\n            if (this.playerSpritesheets[playerGuid]) {\r\n                const spritesheetColor = this.playerSpritesheets[playerGuid];\r\n                if (!addedSpritesheet.includes(spritesheetColor)) {\r\n                    addedSpritesheet.push(spritesheetColor);\r\n                    PIXI.loader.add('player_' + spritesheetColor, `${PLAYER_JSON_PATH}${spritesheetColor}.json`);\r\n                    PIXI.loader.add('house_' + spritesheetColor, `${HOUSE_PNG_PATH}${spritesheetColor}.png`);\r\n                    PIXI.loader.add('upgrade_' + spritesheetColor, `${UPGRADE_JSON_PATH}${spritesheetColor}.json`);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (const asset of assets) {\r\n            PIXI.loader.add(asset.name, asset.path);\r\n        }\r\n\r\n        PIXI.loader.load(() => {\r\n            this.onLoaded();\r\n        });\r\n    }\r\n\r\n    private onLoaded(): void {\r\n        this.map = new Map(this.app.screen, TILES_PER_COLUMN_DEFAULT, TILES_PER_ROW_DEFAULT,\r\n            new PIXI.Point(MIDDLE_POSITION_DEFAULT, MIDDLE_POSITION_DEFAULT));\r\n        this.app.stage.addChild(this.map.getGrassBackground());\r\n        this.app.stage.addChild(this.map.getMapContainer());\r\n        this.sceneLoaded.emit();\r\n    }\r\n\r\n    private isValidPlayer(playerGuid: string): boolean {\r\n        return this.players[playerGuid] !== undefined;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/scene.ts","export enum SpriteSheetColor {\r\n    red, blue, green, yellow, pink, dark, skyBlue, purple\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/spritesheetColor.ts","export enum TileType {\r\n    Tile,\r\n    Wall,\r\n    House,\r\n    Lava,\r\n    Resource,\r\n    Shop,\r\n    Player,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/tiletype.ts","module.exports = \"app-game {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    width: 75%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\napp-leaderboard {\\r\\n    width: 25%;\\r\\n    height: 100vh;\\r\\n    overflow: auto;\\r\\n    right: -50%;\\r\\n    top: 50px;\\r\\n    position: absolute;\\r\\n    -webkit-transition: right 300ms ease-in;\\r\\n    transition: right 300ms ease-in;\\r\\n}\\r\\n\\r\\napp-leaderboard.visible {\\r\\n    width: 25%;\\r\\n    height: 100vh;\\r\\n    overflow: auto;\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    right: 0;\\r\\n    -webkit-transition: right 300ms ease-in;\\r\\n    transition: right 300ms ease-in;\\r\\n}\\r\\n\\r\\n.tvImg {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translate(-50%, -40%);\\r\\n            transform: translate(-50%, -40%);\\r\\n    height: 110%;\\r\\n}\\r\\n\\r\\n.gameView {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translate(-51%, -30%);\\r\\n            transform: translate(-51%, -30%);\\r\\n}\\r\\n\\r\\n.fullScreen {\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    -webkit-transform: translate(0, 0);\\r\\n            transform: translate(0, 0);\\r\\n}\\r\\n\\r\\n.gameCover {\\r\\n    position: absolute;\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n.hide {\\r\\n    opacity: 0;\\r\\n    -webkit-transition: opacity 1000ms ease-in;\\r\\n    transition: opacity 1000ms ease-in;\\r\\n}\\r\\n\\r\\n.quickHide {\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.loadingLogo {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translate(-60%, -32%);\\r\\n            transform: translate(-60%, -32%);\\r\\n}\\r\\n\\r\\n.glow {\\r\\n    -webkit-animation: blur-spike 2s ease-in-out infinite alternate;\\r\\n    animation: blur-spike 2s ease-in-out infinite alternate;\\r\\n}\\r\\n\\r\\n.container {\\r\\n    position: relative;\\r\\n    vertical-align: middle;\\r\\n    height: 100vh;\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n    -webkit-transition: width 300ms ease-in;\\r\\n    transition: width 300ms ease-in;\\r\\n}\\r\\n\\r\\n.container.small {\\r\\n    width: 75%;\\r\\n    -webkit-transition: width 300ms ease-in;\\r\\n    transition: width 300ms ease-in;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes blur-spike {\\r\\n    100% {\\r\\n        -webkit-filter: blur(60px);\\r\\n        filter: blur(60px);\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes blur-spike {\\r\\n    100% {\\r\\n        -webkit-filter: blur(60px);\\r\\n        filter: blur(60px);\\r\\n    }\\r\\n}\\r\\n\\r\\n#leaderboardTitle {\\r\\n    -webkit-transform: rotate(0);\\r\\n            transform: rotate(0);\\r\\n    -webkit-transform-origin: 100% 100%;\\r\\n            transform-origin: 100% 100%;\\r\\n    top: 20px;\\r\\n    right: 10px;\\r\\n    text-align: center;\\r\\n    width: 25%;\\r\\n    position: absolute;\\r\\n    margin: 0;\\r\\n    color: white;\\r\\n    -webkit-transition: all 300ms ease-in;\\r\\n    transition: all 300ms ease-in;\\r\\n}\\r\\n\\r\\n#leaderboardTitle.rotated {\\r\\n    -webkit-transform: rotate(-90deg);\\r\\n            transform: rotate(-90deg);\\r\\n    -webkit-transform-origin: 100% 100%;\\r\\n            transform-origin: 100% 100%;\\r\\n    top: -20px;\\r\\n    right: 0px;\\r\\n    -webkit-transition: all 300ms ease-in;\\r\\n    transition: all 300ms ease-in;\\r\\n}\\r\\n\\r\\n#fullscreenButton {\\r\\n    position: absolute;\\r\\n    top: 37%;\\r\\n    left: 50%;\\r\\n    font-size: 1.3vh;\\r\\n}\\r\\n\\r\\n.button {\\r\\n    position: absolute;\\r\\n    top: 100px;\\r\\n    left: 200px;\\r\\n    display: inline-block;\\r\\n    margin: 0 auto;\\r\\n    -webkit-border-radius: 10px;\\r\\n    -webkit-box-shadow: 0px 3px rgba(128, 128, 128, 1), /* gradient effects */\\r\\n    0px 4px rgba(118, 118, 118, 1), 0px 5px rgba(108, 108, 108, 1), 0px 6px rgba(98, 98, 98, 1), 0px 7px rgba(88, 88, 88, 1), 0px 8px rgba(78, 78, 78, 1), 0px 14px 6px -1px rgba(128, 128, 128, 1);\\r\\n    /* shadow */\\r\\n    -webkit-transition: -webkit-box-shadow .1s ease-in-out;\\r\\n}\\r\\n\\r\\n.button span {\\r\\n    background-color: #E8E8E8;\\r\\n    background-image: /* gloss gradient */\\r\\n    -webkit-gradient( linear, left bottom, left top, color-stop(50%, rgba(255, 255, 255, 0)), color-stop(50%, rgba(255, 255, 255, 0.3)), color-stop(100%, rgba(255, 255, 255, 0.2))), /* dark outside gradient */\\r\\n    -webkit-gradient( linear, left top, right top, color-stop(0%, rgba(210, 210, 210, 0.3)), color-stop(20%, rgba(210, 210, 210, 0)), color-stop(80%, rgba(210, 210, 210, 0)), color-stop(100%, rgba(210, 210, 210, 0.3))), /* light inner gradient */\\r\\n    -webkit-gradient( linear, left top, right top, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(20%, rgba(255, 255, 255, 0.5)), color-stop(80%, rgba(255, 255, 255, 0.5)), color-stop(100%, rgba(255, 255, 255, 0))), /* diagonal line pattern */\\r\\n    -webkit-gradient( linear, 0% 100%, 100% 0%, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(40%, rgba(255, 255, 255, 0)), color-stop(40%, #D2D2D1), color-stop(60%, #D2D2D1), color-stop(60%, rgba(255, 255, 255, 0)), color-stop(100%, rgba(255, 255, 255, 0)));\\r\\n    -webkit-box-shadow: 0px -1px #fff, /* top highlight */\\r\\n    0px 1px 1px #FFFFFF;\\r\\n    /* bottom edge */\\r\\n    -webkit-background-size: 100%, 100%, 100%, 4px 4px;\\r\\n    -webkit-border-radius: 10px;\\r\\n    -webkit-transition: -webkit-transform .1s ease-in-out;\\r\\n    display: inline-block;\\r\\n    padding: 1.5vh 1vh 1.5vh 1vh;\\r\\n    color: #3A474D;\\r\\n    text-transform: uppercase;\\r\\n    font-size: 1.3vh;\\r\\n    text-shadow: 0px 1px #fff, 0px -1px #262F33;\\r\\n}\\r\\n\\r\\n.button span:hover {\\r\\n    color: blue;\\r\\n    text-shadow: 0px -1px #97A63A;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.button:active {\\r\\n    -webkit-box-shadow: 0px 3px rgba(128, 128, 128, 1), 0px 4px rgba(118, 118, 118, 1), 0px 5px rgba(108, 108, 108, 1), 0px 6px rgba(98, 98, 98, 1), 0px 7px rgba(88, 88, 88, 1), 0px 8px rgba(78, 78, 78, 1), 0px 10px 2px 0px rgba(128, 128, 128, .6);\\r\\n    /* shadow */\\r\\n}\\r\\n\\r\\n.button:active span {\\r\\n    -webkit-transform: translate(0, 5px);\\r\\n    /* depth of button press */\\r\\n}\\r\\n\\r\\n#zoomIn {\\r\\n    top: 65%;\\r\\n}\\r\\n\\r\\n#zoomOut {\\r\\n    top: 78%;\\r\\n}\\r\\n\\r\\n#zoomOut, #zoomIn {\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    border-radius: 10vh;\\r\\n}\\r\\n\\r\\n#zoomOut span, #zoomIn span {\\r\\n    font-size: 4vh;\\r\\n    text-align: center;\\r\\n    width: 6vh;\\r\\n    border-radius: 10vh;\\r\\n}\\r\\n\\r\\n#controls {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    bottom: 0;\\r\\n    text-align: center;\\r\\n    color: white;\\r\\n    -webkit-transition: width 300ms ease-in;\\r\\n    transition: width 300ms ease-in;\\r\\n}\\r\\n\\r\\n#controls>span {\\r\\n    margin: 0 10px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/container/container.component.css\n// module id = ./src/app/container/container.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\" [style.width.%]=\\\"isLeaderboardVisible() ? 75: 100\\\">\\r\\n    <!-- Game view -->\\r\\n    <app-game #gameView class=\\\"gameView\\\" [class.fullScreen.active]='isGameFullscreen()' [style.width.px]='gameViewWidth' [style.height.px]='gameViewHeight'>\\r\\n    </app-game>\\r\\n\\r\\n    <!-- Black screen on top of gameview -->\\r\\n    <div class=\\\"gameView gameCover\\\" [class.hide.active]=\\\"isSceneReady()\\\" [style.width.px]='gameViewWidth' [style.height.px]='gameViewHeight'>\\r\\n    </div>\\r\\n\\r\\n    <!-- Background glow of Logo -->\\r\\n    <img [class.hide.active]=\\\"isSceneReady()\\\" [class.glow.active]=\\\"!isSceneReady()\\\" class=\\\"loadingLogo\\\" [style.width.px]='logoWidth'\\r\\n        src=\\\"assets/images/logo.png\\\" />\\r\\n\\r\\n    <!-- Logo -->\\r\\n    <img class=\\\"loadingLogo\\\" [class.hide.active]=\\\"isSceneReady()\\\" [style.width.px]='logoWidth' src=\\\"assets/images/logo.png\\\" />\\r\\n\\r\\n    <!-- TV -->\\r\\n    <img #tvImg class=\\\"tvImg\\\" [class.quickHide.active]=\\\"isGameFullscreen()\\\" src=\\\"assets/images/tv.png\\\" />\\r\\n\\r\\n    <!-- Fullscreen button -->\\r\\n    <a id=\\\"fullscreenButton\\\" class=\\\"button\\\" [class.quickHide.active]=\\\"isGameFullscreen()\\\" [style.transform]=\\\"'translateX(' + fullscreenButtonOffset + 'px)'\\\"\\r\\n        (click)=\\\"toggleFullscreen()\\\">\\r\\n        <span>\\r\\n            Fullscreen\\r\\n        </span>\\r\\n    </a>\\r\\n\\r\\n    <a id=\\\"zoomIn\\\" class=\\\"button\\\" [class.quickHide.active]=\\\"isGameFullscreen()\\\" [style.transform]=\\\"'translateX(' + zoomButtonOffset + 'px)'\\\"\\r\\n        (click)=\\\"this.gameComponent.zoom('in')\\\">\\r\\n        <span>\\r\\n            +\\r\\n        </span>\\r\\n    </a>\\r\\n\\r\\n    <a id=\\\"zoomOut\\\" class=\\\"button\\\" [class.quickHide.active]=\\\"isGameFullscreen()\\\" [style.transform]=\\\"'translateX(' + zoomButtonOffset + 'px)'\\\"\\r\\n        (click)=\\\"this.gameComponent.zoom('out')\\\">\\r\\n        <span>\\r\\n            -\\r\\n        </span>\\r\\n    </a>\\r\\n\\r\\n\\r\\n    <div id=\\\"controls\\\">\\r\\n        <span>Left: ⇦</span>\\r\\n        <span>Right: ⇨ </span>\\r\\n        <span>Up: ⇧</span>\\r\\n        <span>Down: ⇩</span>\\r\\n        <span>Zoom in: a</span>\\r\\n        <span>Zoom out: s</span>\\r\\n        <span>Exit fullscreen: Esc</span>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n<div>\\r\\n    <h2 id=\\\"leaderboardTitle\\\" [class.rotated.active]=\\\"!isLeaderboardVisible()\\\" (click)=\\\"toggleLeaderboard()\\\">Leaderboard</h2>\\r\\n    <app-leaderboard [class.visible.active]=\\\"isLeaderboardVisible()\\\"></app-leaderboard>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/container/container.component.html\n// module id = ./src/app/container/container.component.html\n// module chunks = main","import { Component, OnInit, ElementRef, ViewChild, AfterViewInit, HostListener } from '@angular/core';\r\nimport { GameComponent } from '../game/game.component';\r\n\r\nconst CLOSE_FULLSCREEN = 27; // escape\r\n\r\n@Component({\r\n    selector: 'app-container',\r\n    templateUrl: './container.component.html',\r\n    styleUrls: ['./container.component.css']\r\n})\r\nexport class ContainerComponent implements OnInit {\r\n\r\n    @ViewChild('tvImg')\r\n    public tvImg: ElementRef;\r\n\r\n    @ViewChild(GameComponent)\r\n    public gameComponent: GameComponent;\r\n\r\n    public logoWidth: number;\r\n    public gameViewWidth: number;\r\n    public gameViewHeight: number;\r\n    public fullscreenButtonOffset: number;\r\n    public zoomButtonOffset: number;\r\n    private _isSceneReady = false;\r\n    private _isLeaderboardVisible = false;\r\n    private _isGameFullscreen = false;\r\n\r\n    public isSceneReady(): boolean {\r\n        return this._isSceneReady;\r\n    }\r\n\r\n    public isLeaderboardVisible(): boolean {\r\n        return this._isLeaderboardVisible;\r\n    }\r\n\r\n    public isGameFullscreen(): boolean {\r\n        return this._isGameFullscreen;\r\n    }\r\n\r\n    public constructor(private element: ElementRef) { }\r\n\r\n    public ngOnInit(): void {\r\n        this.checkLogoSize();\r\n        this.gameComponent.sceneReady.subscribe(_ => {\r\n            this._isSceneReady = true;\r\n        });\r\n    }\r\n\r\n    public toggleLeaderboard(): void {\r\n        this._isLeaderboardVisible = !this._isLeaderboardVisible;\r\n    }\r\n\r\n    public toggleFullscreen(): void {\r\n        this._isGameFullscreen = !this._isGameFullscreen;\r\n        this.calculateVisualsSize();\r\n    }\r\n\r\n    @HostListener('window:resize', ['$event'])\r\n    public onResize(event: Event): void {\r\n        this.checkLogoSize();\r\n    }\r\n\r\n    @HostListener('window:keydown', ['$event'])\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        if (event.keyCode === 27) {\r\n            if (this._isGameFullscreen) {\r\n                this.toggleFullscreen();\r\n            }\r\n        }\r\n    }\r\n\r\n    private checkLogoSize() {\r\n        if (this.tvImg.nativeElement.width !== 0\r\n            && this.logoWidth !== this.tvImg.nativeElement.width) {\r\n            this.calculateVisualsSize();\r\n            this.gameComponent.onResize(this.gameViewWidth, this.gameViewHeight);\r\n        } else {\r\n            setTimeout(() => this.checkLogoSize(), 10);\r\n        }\r\n    }\r\n\r\n    private calculateVisualsSize(): void {\r\n        this.logoWidth = 0.75 * this.tvImg.nativeElement.width;\r\n        if (this.isGameFullscreen()) {\r\n            this.gameViewWidth = window.innerHeight;\r\n            this.gameViewHeight = window.innerHeight;\r\n            this.gameComponent.onResize(this.gameViewWidth, this.gameViewHeight);\r\n        } else {\r\n            this.gameViewWidth = 0.9 * this.tvImg.nativeElement.width;\r\n            this.gameViewHeight = 0.515 * this.tvImg.nativeElement.height;\r\n            this.gameComponent.onResize(this.gameViewWidth, this.gameViewHeight);\r\n        }\r\n        this.fullscreenButtonOffset = 0.339 * this.tvImg.nativeElement.width;\r\n        this.zoomButtonOffset = 0.35 * this.tvImg.nativeElement.width;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/container/container.component.ts","import * as PIXI from 'pixi.js';\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\n\r\nexport abstract class BaseAnimation extends PIXI.Container {\r\n\r\n    public actionName: string;\r\n    protected initialSize: PIXI.Rectangle;\r\n    protected animation: PIXI.extras.AnimatedSprite;\r\n\r\n    protected constructor(textures: PIXI.Texture[], gridDimension: PIXI.Point) {\r\n        super();\r\n        this.animation = new PIXI.extras.AnimatedSprite(textures);\r\n        this.animation.loop = false;\r\n        this.animation.animationSpeed = 0.2;\r\n        this.addChild(this.animation);\r\n        this.initialSize = new PIXI.Rectangle(null, null, this.width, this.height);\r\n        this.updateScale(gridDimension);\r\n        this.animation.anchor.x = 0.5;\r\n        this.animation.anchor.y = 0.5;\r\n    }\r\n\r\n    protected translateAnimation(): void { }\r\n\r\n    public execute(direction: AnimationDirection): void {\r\n        this.animation.play();\r\n    }\r\n\r\n    public update(newPosition: PIXI.Point, gridDimension: PIXI.Point): void {\r\n        this.updateScale(gridDimension);\r\n        this.position = newPosition;\r\n    }\r\n\r\n    protected updateScale(gridDimension: PIXI.Point): void {\r\n        this.scale.x = gridDimension.x / this.initialSize.width;\r\n        this.scale.y = gridDimension.y / this.initialSize.height;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/baseAnimation.ts","import { Point } from 'pixi.js';\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { NoDirectionPlayerAnimation } from './noDirectionPlayerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 5;\r\nconst NUMBER_SIDE_FRAMES = 0;\r\nconst NUMBER_UP_FRAMES = 0;\r\n\r\nexport class DeathAnimation extends NoDirectionPlayerAnimation {\r\n\r\n    private spawnSpot: Point;\r\n    @Output()\r\n    public finishedAnimation: EventEmitter<any>;\r\n\r\n    public constructor(username: string, position: Point, gridDimension: Point, color: string) {\r\n        const textures = DeathAnimation.loadTextures(color, 'dramatic_death', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'dramatic_death';\r\n        this.finishedAnimation = new EventEmitter();\r\n        this.animation.onComplete = () => {\r\n           this.startRespawn();\r\n        };\r\n    }\r\n\r\n    public endAnimation(): void {\r\n        this.animation.stop();\r\n    }\r\n\r\n   public startRespawn(): void {\r\n        this.endAnimation();\r\n        this.finishedAnimation.emit(this.spawnSpot);\r\n   }\r\n\r\n    public execute(direction: AnimationDirection) {\r\n        this.animation.gotoAndPlay(0);\r\n    }\r\n\r\n    public setSpawnSpot( spawnSpot: Point): void {\r\n        this.spawnSpot = spawnSpot;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/deathAnimation.ts","import { Point } from 'pixi.js';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { NoDirectionPlayerAnimation } from './noDirectionPlayerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 13;\r\nconst NUMBER_SIDE_FRAMES = 0;\r\nconst NUMBER_UP_FRAMES = 0;\r\n\r\nexport class GoblinDeathAnimation extends NoDirectionPlayerAnimation {\r\n\r\n    @Output()\r\n    public finishedAnimation: EventEmitter<any>;\r\n\r\n    public constructor(username: string, position: Point, gridDimension: Point) {\r\n        const textures = GoblinDeathAnimation.loadTextures('enemy', 'dramatic_death', NUMBER_DOWN_FRAMES,\r\n                                                            NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'dramatic_death';\r\n        this.finishedAnimation = new EventEmitter();\r\n        this.animation.onComplete = () => {\r\n           this.endAnimation();\r\n        };\r\n    }\r\n\r\n    public endAnimation(): void {\r\n        this.animation.stop();\r\n        this.animation.visible = false;\r\n        this.finishedAnimation.emit();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/goblinDeathAnimation.ts","import { PlayerAnimation } from './playerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 4;\r\nconst NUMBER_SIDE_FRAMES = 4;\r\nconst NUMBER_UP_FRAMES = 4;\r\n\r\nexport class GoblinMeleeAttackAnimation extends PlayerAnimation {\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point) {\r\n        const textures = GoblinMeleeAttackAnimation.loadTextures('enemy', 'melee', NUMBER_DOWN_FRAMES,\r\n                                                                NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'melee';\r\n        this.animation.onComplete = () => {\r\n            this.endAnimation();\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/goblinMeleeAttack.ts","import { Point } from 'pixi.js';\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\nimport { PlayerAnimation } from './playerAnimation';\r\n\r\nconst FRAME_RATE = 60;\r\nconst NUMBER_DOWN_FRAMES = 4;\r\nconst NUMBER_SIDE_FRAMES = 4;\r\nconst NUMBER_UP_FRAMES = 4;\r\n\r\nexport class GoblinWalkAnimation extends PlayerAnimation {\r\n\r\n    private destinationPoint: Point;\r\n    private gridDimension: Point;\r\n\r\n    public constructor(username: string, position: Point, gridDimension: Point) {\r\n        const textures = GoblinWalkAnimation.loadTextures('enemy', 'walk', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'walk';\r\n        this.animation.loop = true;\r\n        this.gridDimension = gridDimension;\r\n        this.animation.animationSpeed = 0.05;\r\n    }\r\n\r\n    protected translateAnimation(): void {\r\n        const translationPerFrameWidth = this.gridDimension.x / FRAME_RATE;\r\n        const translationPerFrameHeight = this.gridDimension.y / FRAME_RATE;\r\n        let canStop = false;\r\n        switch (this.currentDirection) {\r\n            case AnimationDirection.UP:\r\n                this.y -= translationPerFrameHeight;\r\n                canStop = this.y <= this.destinationPoint.y;\r\n                break;\r\n            case AnimationDirection.DOWN:\r\n                this.y += translationPerFrameHeight;\r\n                canStop = this.y >= this.destinationPoint.y;\r\n                break;\r\n            case AnimationDirection.LEFT:\r\n                this.x -= translationPerFrameWidth;\r\n                canStop = this.x <= this.destinationPoint.x;\r\n                break;\r\n            case AnimationDirection.RIGHT:\r\n                this.x += translationPerFrameWidth;\r\n                canStop = this.x >= this.destinationPoint.x;\r\n                break;\r\n            default:\r\n                this.endAnimation();\r\n                return;\r\n        }\r\n        if (canStop) {\r\n            this.endAnimation();\r\n        }\r\n    }\r\n\r\n    public execute(direction: AnimationDirection): void {\r\n        this.setDirection(direction);\r\n        this.destinationPoint = new Point(this.x, this.y);\r\n        switch (direction) {\r\n            case AnimationDirection.UP:\r\n                this.destinationPoint.y -= this.gridDimension.y;\r\n                break;\r\n            case AnimationDirection.DOWN:\r\n                this.destinationPoint.y += this.gridDimension.y;\r\n                break;\r\n            case AnimationDirection.LEFT:\r\n                this.destinationPoint.x -= this.gridDimension.x;\r\n                break;\r\n            case AnimationDirection.RIGHT:\r\n                this.destinationPoint.x += this.gridDimension.x;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        PIXI.ticker.shared.add(this.translateAnimation, this);\r\n        this.animation.play();\r\n    }\r\n\r\n    public endAnimation(): void {\r\n        PIXI.ticker.shared.remove(this.translateAnimation, this);\r\n        super.endAnimation();\r\n    }\r\n\r\n    public update(newPosition: Point, gridDimension: Point): void {\r\n        super.update(newPosition, gridDimension);\r\n        this.gridDimension = gridDimension;\r\n    }\r\n\r\n    public reset(): void {\r\n        this.setDirection(AnimationDirection.DOWN);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/goblinWalkAnimation.ts","import { NoDirectionPlayerAnimation } from './noDirectionPlayerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 10;\r\nconst NUMBER_SIDE_FRAMES = 0;\r\nconst NUMBER_UP_FRAMES = 0;\r\n\r\nexport class HealingAnimation extends NoDirectionPlayerAnimation {\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point, color: string) {\r\n        const textures = HealingAnimation.loadTextures(color, 'potion', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'potion';\r\n        this.animation.onComplete = () => {\r\n            this.endAnimation();\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/healAnimation.ts","import { PlayerAnimation } from './playerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 9;\r\nconst NUMBER_SIDE_FRAMES = 8;\r\nconst NUMBER_UP_FRAMES = 7;\r\n\r\nexport class MeleeAttackAnimation extends PlayerAnimation {\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point, color: string) {\r\n        const textures = MeleeAttackAnimation.loadTextures(color, 'melee', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'melee';\r\n        this.animation.onComplete = () => {\r\n            this.endAnimation();\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/meleeAttackAnimation.ts","import { PlayerAnimation } from './playerAnimation';\r\n\r\nconst NUMBER_DOWN_FRAMES = 4;\r\nconst NUMBER_SIDE_FRAMES = 5;\r\nconst NUMBER_UP_FRAMES = 6;\r\n\r\nexport class MiningAnimation extends PlayerAnimation {\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point, color: string) {\r\n        const textures = MiningAnimation.loadTextures(color, 'mine', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'mine';\r\n        this.animation.animationSpeed = 0.1;\r\n        this.animation.onComplete = () => {\r\n            this.endAnimation();\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/miningAnimation.ts","import { PlayerAnimation } from './playerAnimation';\r\nimport { Texture } from 'pixi.js';\r\n\r\nexport abstract class NoDirectionPlayerAnimation extends PlayerAnimation {\r\n\r\n    protected static loadTextures(color: string, actionName: string, nDownFrames: number, nSideFrames: number, nUpFrames: number ): any {\r\n        const downTextures = [PIXI.Texture.fromFrame(`walk_down_${color}_1.png`).clone()] as Array<Texture>;\r\n         for (let i = 1; i <= nDownFrames; i++) {\r\n            downTextures.push(PIXI.Texture.fromFrame(`${actionName}_${color}_${i}.png`).clone());\r\n        }\r\n        return {\r\n            down: downTextures ,\r\n            side: [],\r\n            up: []\r\n        };\r\n    }\r\n\r\n    public updateTexture(newBaseTexture: PIXI.BaseTexture): void {\r\n        this.downTextures.forEach(texture => {\r\n            texture.baseTexture = newBaseTexture;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/noDirectionPlayerAnimation.ts","import * as PIXI from 'pixi.js';\r\nimport { BaseAnimation } from './baseAnimation';\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\nimport { UsernameProperties } from '../../shared/animation/usernameProperties';\r\nimport { EventEmitter, Output } from '@angular/core';\r\n\r\nconst LEFT_SIDE = 0;\r\nconst RIGHT_SIDE = 12;\r\n\r\nexport abstract class PlayerAnimation extends BaseAnimation {\r\n\r\n    protected upTextures: PIXI.Texture[];\r\n    protected downTextures: PIXI.Texture[];\r\n    protected sideTextures: PIXI.Texture[];\r\n    protected usernameLabel: PIXI.Text;\r\n    protected currentDirection: AnimationDirection;\r\n\r\n    @Output()\r\n    public animationDone: EventEmitter<any> = new EventEmitter();\r\n\r\n    public constructor(upTextures: PIXI.Texture[], downTextures: PIXI.Texture[], sideTextures: PIXI.Texture[],\r\n        username: string, position: PIXI.Point, gridDimension: PIXI.Point) {\r\n        super(downTextures, gridDimension);\r\n        this.upTextures = upTextures;\r\n        this.downTextures = downTextures;\r\n        this.sideTextures = sideTextures;\r\n        this.position = position;\r\n\r\n        this.usernameLabel = new PIXI.Text(username, UsernameProperties.STYLE);\r\n        this.usernameLabel.x -= UsernameProperties.xOffset(this.usernameLabel.width);\r\n        this.usernameLabel.position.y += UsernameProperties.Y_OFFSET;\r\n        this.addChild(this.usernameLabel);\r\n        this.actionName = '';\r\n    }\r\n\r\n    protected static loadTextures(color: string, actionName: string, nDownFrames: number, nSideFrames: number, nUpFrames: number): any {\r\n        // Put resting frame for each animation except the walk one\r\n        const downTextures = actionName === 'walk' ? [] : [PIXI.Texture.fromFrame(`walk_down_${color}_1.png`).clone()];\r\n        const sideTextures = actionName === 'walk' ? [] : [PIXI.Texture.fromFrame(`walk_side_${color}_1.png`).clone()];\r\n        const upTextures = actionName === 'walk' ? [] : [PIXI.Texture.fromFrame(`walk_up_${color}_1.png`).clone()];\r\n\r\n        for (let i = 1; i <= nDownFrames; i++) {\r\n            downTextures.push(PIXI.Texture.fromFrame(`${actionName}_down_${color}_${i}.png`).clone());\r\n        }\r\n        for (let i = 1; i <= nSideFrames; i++) {\r\n            sideTextures.push(PIXI.Texture.fromFrame(`${actionName}_side_${color}_${i}.png`).clone());\r\n        }\r\n        for (let i = 1; i <= nUpFrames; i++) {\r\n            upTextures.push(PIXI.Texture.fromFrame(`${actionName}_up_${color}_${i}.png`).clone());\r\n        }\r\n\r\n        return {\r\n            down: downTextures,\r\n            side: sideTextures,\r\n            up: upTextures\r\n        };\r\n    }\r\n\r\n    protected setDirection(direction: AnimationDirection): void {\r\n        this.currentDirection = direction;\r\n        switch (direction) {\r\n            case AnimationDirection.UP:\r\n                this.animation.textures = this.upTextures;\r\n                break;\r\n            case AnimationDirection.DOWN:\r\n                this.animation.textures = this.downTextures;\r\n                break;\r\n            case AnimationDirection.LEFT:\r\n                this.animation.textures = this.getRotatedSideTexture(LEFT_SIDE);\r\n                break;\r\n            case AnimationDirection.RIGHT:\r\n                this.animation.textures = this.getRotatedSideTexture(RIGHT_SIDE);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    public updateTexture(newBaseTexture: PIXI.BaseTexture): void {\r\n        this.downTextures.forEach(texture => {\r\n            texture.baseTexture = newBaseTexture;\r\n        });\r\n        this.sideTextures.forEach(texture => {\r\n            texture.baseTexture = newBaseTexture;\r\n        });\r\n        this.upTextures.forEach(texture => {\r\n            texture.baseTexture = newBaseTexture;\r\n        });\r\n    }\r\n\r\n    public endAnimation(): void {\r\n        this.animation.gotoAndStop(0);\r\n        this.animationDone.emit();\r\n    }\r\n\r\n    public execute(direction: AnimationDirection) {\r\n        this.setDirection(direction);\r\n        super.execute(direction);\r\n    }\r\n\r\n    public isPlaying(): boolean {\r\n        return this.animation.playing;\r\n    }\r\n\r\n    private getRotatedSideTexture(rotationValue: number): PIXI.Texture[] {\r\n        const flippedTexture = [];\r\n        for (let i = 0; i < this.sideTextures.length; i++) {\r\n            const rotatedTexture = this.sideTextures[i].clone();\r\n            rotatedTexture.rotate = rotationValue;\r\n            flippedTexture.push(rotatedTexture);\r\n        }\r\n        return flippedTexture;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/playerAnimation.ts","import { Texture } from 'pixi.js';\r\nimport { UpgradeType } from '../../classes/items';\r\nimport { PlayerAnimation } from './playerAnimation';\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\n\r\nconst NUMBER_FRAMES = 3;\r\nconst NUMBER_DOWN_FRAMES = 0;\r\nconst NUMBER_SIDE_FRAMES = 0;\r\nconst NUMBER_UP_FRAMES = 0;\r\n\r\nexport class UpgradeAnimation extends PlayerAnimation {\r\n\r\n    protected backpackTexture: Texture[];\r\n    protected swordTexture: Texture[];\r\n    protected shieldTexture: Texture[];\r\n    protected heartTexture: Texture[];\r\n    protected pickaxeTexture: Texture[];\r\n    protected potionTexture: Texture[];\r\n    protected emptyHandTexture: Texture[];\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point, color: string) {\r\n        const textures = UpgradeAnimation.loadTextures(color, 'upgrade', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super([], textures.emptyHand, [], username, position, gridDimension); // give sprite a default texture\r\n        this.actionName = 'upgrade';\r\n\r\n        this.backpackTexture = textures.bag;\r\n        this.swordTexture = textures.sword;\r\n        this.shieldTexture = textures.shield;\r\n        this.heartTexture = textures.heart;\r\n        this.pickaxeTexture = textures.pickaxe;\r\n        this.potionTexture = textures.potion;\r\n        this.emptyHandTexture = textures.emptyHand;\r\n\r\n        this.animation.animationSpeed = 0.05;\r\n        this.animation.onComplete = () => {\r\n            this.endAnimation();\r\n        };\r\n    }\r\n\r\n    protected static loadTextures(color: string, actionName: string, nDownFrames: number, nSideFrames: number, nUpFrames: number): any {\r\n\r\n        const restFrame = PIXI.Texture.fromFrame(`walk_down_${color}_1.png`).clone();\r\n        const bagTexture = [restFrame] as Array<Texture>;\r\n        const swordTexture = [restFrame] as Array<Texture>;\r\n        const shieldTexture = [restFrame] as Array<Texture>;\r\n        const heartTexture = [restFrame] as Array<Texture>;\r\n        const pickaxeTexture = [restFrame] as Array<Texture>;\r\n        const potionTexture = [restFrame] as Array<Texture>;\r\n        const emptyHandTexture = [restFrame] as Array<Texture>;\r\n\r\n        for (let i = 1; i <= NUMBER_FRAMES; i++) {\r\n            bagTexture.push(PIXI.Texture.fromFrame(`${actionName}_bag_${color}_${i}.png`).clone());\r\n            swordTexture.push(PIXI.Texture.fromFrame(`${actionName}_sword_${color}_${i}.png`).clone());\r\n            shieldTexture.push(PIXI.Texture.fromFrame(`${actionName}_shield_${color}_${i}.png`).clone());\r\n            heartTexture.push(PIXI.Texture.fromFrame(`${actionName}_heart_${color}_${i}.png`).clone());\r\n            pickaxeTexture.push(PIXI.Texture.fromFrame(`${actionName}_pickaxe_${color}_${i}.png`).clone());\r\n            potionTexture.push(PIXI.Texture.fromFrame(`${actionName}_potion_${color}_${i}.png`).clone());\r\n            emptyHandTexture.push(PIXI.Texture.fromFrame(`${actionName}_empty_${color}_${i}.png`).clone());\r\n        }\r\n        return {\r\n            bag: bagTexture,\r\n            sword: swordTexture,\r\n            shield: shieldTexture,\r\n            heart: heartTexture,\r\n            pickaxe: pickaxeTexture,\r\n            potion: potionTexture,\r\n            emptyHand: emptyHandTexture\r\n        };\r\n    }\r\n\r\n    public setUpgradeType(upgradeType: UpgradeType, hasItem: boolean): void {\r\n        switch (upgradeType) {\r\n            case UpgradeType.AttackPower:\r\n                this.animation.textures = hasItem ? this.swordTexture : this.emptyHandTexture;\r\n                break;\r\n            case UpgradeType.CarryingCapacity:\r\n                this.animation.textures = hasItem ? this.backpackTexture : this.emptyHandTexture;\r\n                break;\r\n            case UpgradeType.CollectingSpeed:\r\n                this.animation.textures = hasItem ? this.pickaxeTexture : this.emptyHandTexture;\r\n                break;\r\n            case UpgradeType.Defence:\r\n                this.animation.textures = hasItem ? this.shieldTexture : this.emptyHandTexture;\r\n                break;\r\n            case UpgradeType.MaximumHealth:\r\n                this.animation.textures = this.heartTexture;\r\n                break;\r\n            case UpgradeType.Potion:\r\n                this.animation.textures = this.potionTexture;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    public updateTexture(newBaseTexture: PIXI.BaseTexture): void {}\r\n\r\n    protected setDirection(direction: AnimationDirection) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/upgradeAnimation.ts","import * as PIXI from 'pixi.js';\r\n\r\nimport { AnimationDirection } from '../../shared/animation/animationDirection';\r\nimport { PlayerAnimation } from './playerAnimation';\r\n\r\nconst FRAME_RATE = 60;\r\nconst NUMBER_DOWN_FRAMES = 11;\r\nconst NUMBER_SIDE_FRAMES = 11;\r\nconst NUMBER_UP_FRAMES = 11;\r\n\r\nexport class WalkAnimation extends PlayerAnimation {\r\n\r\n    private destinationPoint: PIXI.Point;\r\n    private gridDimension: PIXI.Point;\r\n\r\n    public constructor(username: string, position: PIXI.Point, gridDimension: PIXI.Point, color: string) {\r\n        const textures = PlayerAnimation.loadTextures(color, 'walk', NUMBER_DOWN_FRAMES, NUMBER_SIDE_FRAMES, NUMBER_UP_FRAMES);\r\n        super(textures.up, textures.down, textures.side, username, position, gridDimension);\r\n        this.actionName = 'walk';\r\n        this.animation.loop = true;\r\n        this.gridDimension = gridDimension;\r\n    }\r\n\r\n    protected translateAnimation(): void {\r\n        const translationPerFrameWidth = this.gridDimension.x / FRAME_RATE;\r\n        const translationPerFrameHeight = this.gridDimension.y / FRAME_RATE;\r\n        let canStop = false;\r\n        switch (this.currentDirection) {\r\n            case AnimationDirection.UP:\r\n                this.y -= translationPerFrameHeight;\r\n                canStop = this.y <= this.destinationPoint.y;\r\n                break;\r\n            case AnimationDirection.DOWN:\r\n                this.y += translationPerFrameHeight;\r\n                canStop = this.y >= this.destinationPoint.y;\r\n                break;\r\n            case AnimationDirection.LEFT:\r\n                this.x -= translationPerFrameWidth;\r\n                canStop = this.x <= this.destinationPoint.x;\r\n                break;\r\n            case AnimationDirection.RIGHT:\r\n                this.x += translationPerFrameWidth;\r\n                canStop = this.x >= this.destinationPoint.x;\r\n                break;\r\n            default:\r\n                this.endAnimation();\r\n                return;\r\n        }\r\n        if (canStop) {\r\n            this.endAnimation();\r\n        }\r\n    }\r\n\r\n    public execute(direction: AnimationDirection): void {\r\n        this.setDirection(direction);\r\n        this.destinationPoint = new PIXI.Point(this.x, this.y);\r\n        switch (direction) {\r\n            case AnimationDirection.UP:\r\n                this.destinationPoint.y -= this.gridDimension.y;\r\n                break;\r\n            case AnimationDirection.DOWN:\r\n                this.destinationPoint.y += this.gridDimension.y;\r\n                break;\r\n            case AnimationDirection.LEFT:\r\n                this.destinationPoint.x -= this.gridDimension.x;\r\n                break;\r\n            case AnimationDirection.RIGHT:\r\n                this.destinationPoint.x += this.gridDimension.x;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        PIXI.ticker.shared.add(this.translateAnimation, this);\r\n        this.animation.play();\r\n    }\r\n\r\n    public endAnimation(): void {\r\n        PIXI.ticker.shared.remove(this.translateAnimation, this);\r\n        super.endAnimation();\r\n    }\r\n\r\n    public update(newPosition: PIXI.Point, gridDimension: PIXI.Point): void {\r\n        super.update(newPosition, gridDimension);\r\n        this.gridDimension = gridDimension;\r\n    }\r\n\r\n    public reset(): void {\r\n        this.setDirection(AnimationDirection.DOWN);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/animation/walkAnimation.ts","module.exports = \"#gameView {\\r\\n    --button-height: 40px;\\r\\n    overflow: hidden;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.over {\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.arrow-up {\\r\\n    top: 0px;\\r\\n    left: calc(50% - var(--button-height) / 2);\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.arrow-down {\\r\\n    top: calc(100% - var(--button-height));\\r\\n    left: calc(50% - var(--button-height) / 2);\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.arrow-left {\\r\\n    top: calc(50% - var(--button-height) / 2);\\r\\n    left: 0;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.arrow-right {\\r\\n    top: calc(50% - var(--button-height) / 2);\\r\\n    left: calc(100% - var(--button-height));\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.button-plus-minus {\\r\\n    top: calc(100% - 2 * var(--button-height));\\r\\n    left: calc(100% - var(--button-height));\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\nbutton {\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/game/game.component.css\n// module id = ./src/app/game/game.component.css\n// module chunks = main","module.exports = \"<div #gameView id=\\\"gameView\\\"></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/game/game.component.html\n// module id = ./src/app/game/game.component.html\n// module chunks = main","import { Component, OnInit, ViewChild, ElementRef, HostListener, Output, EventEmitter } from '@angular/core';\r\nimport { Scene } from '../classes/scene';\r\nimport { GameService } from './game.service';\r\nimport { SyncMessage } from '../shared/messages/syncMessage';\r\nimport { SpriteSheetColor } from '../classes/spritesheetColor';\r\n\r\nconst VIEW_TRANSLATION = 4;\r\nconst VIEW_ZOOM = 4;\r\nconst LEFT_KEYCODE = 37;        // Left arrow\r\nconst UP_KEYCODE = 38;          // Up arrow\r\nconst RIGHT_KEYCODE = 39;       // Right arrow\r\nconst DOWN_KEYCODE = 40;        // Down arrow\r\nconst ZOOM_IN_KEYCODE = 65;     // a\r\nconst ZOOM_OUT_KEYCODE = 83;    // s\r\n\r\n@Component({\r\n    selector: 'app-game',\r\n    templateUrl: './game.component.html',\r\n    styleUrls: ['./game.component.css']\r\n})\r\n\r\nexport class GameComponent implements OnInit {\r\n\r\n    @Output()\r\n    public sceneReady: EventEmitter<any> = new EventEmitter();\r\n\r\n    private scene: Scene;\r\n    private isGameSceneReady = false;\r\n    private sceneSize: PIXI.Point;\r\n    private lastSyncTimestamp: Date;\r\n    private forceSync = false;\r\n\r\n    @ViewChild('gameView')\r\n    private gameViewRef: ElementRef;\r\n\r\n    public constructor(private gameService: GameService) { }\r\n\r\n    public async ngOnInit(): Promise<void> {\r\n        this.gameService.getSpritesheets().subscribe(spritesheetsData => {\r\n            if (!this.scene) {\r\n                const spritesheets = this.parseSpritesheet(spritesheetsData.spritesheets);\r\n                this.initScene(spritesheets);\r\n            } else {\r\n                // update spritesheet and player concerned i guess?\r\n            }\r\n        });\r\n        this.gameService.getMapInfo().subscribe(mapData => {\r\n            this.lastSyncTimestamp = mapData.timestamp;\r\n            if (this.isGameSceneReady) {\r\n                this.resyncScene(mapData);\r\n            }\r\n        });\r\n        this.gameService.getTurn().subscribe(turn => {\r\n            if (this.isGameSceneReady && turn.timestamp > this.lastSyncTimestamp) {\r\n                this.scene.playAnimations(turn.actions);\r\n                this.scene.respawnDeadPlayers(turn.deadPlayers);\r\n            }\r\n        });\r\n    }\r\n\r\n    private initScene(spritesheets: string[]): void {\r\n        if (this.sceneSize) {\r\n            this.scene = new Scene(spritesheets, this.sceneSize);\r\n\r\n            this.scene.sceneLoaded.subscribe(_ => {\r\n                this.gameService.requestNewView(this.scene.getMapInfo(), this.scene.getMapCentralPosition());\r\n                this.forceSync = true;\r\n                this.isGameSceneReady = true;\r\n                setTimeout(() => {\r\n                    this.sceneReady.emit();\r\n                }, 10);\r\n            });\r\n\r\n            this.gameViewRef.nativeElement.appendChild(this.scene.view);\r\n        } else {\r\n            setTimeout(_ => this.initScene(spritesheets), 100);\r\n        }\r\n    }\r\n\r\n    public onResize(width: number, height: number): void {\r\n        this.sceneSize = new PIXI.Point(width, height);\r\n        // TODO: limit number of resize requests, could overwhelm the server.\r\n        // (Wait until window is done resizing?)\r\n        if (this.scene) {\r\n            this.scene.onResize(this.sceneSize);\r\n            // Hack to refresh view.\r\n            const newPosition = this.scene.getMapCentralPosition();\r\n            const newViewSize = this.scene.getMapInfo();\r\n            this.gameService.requestNewView(newViewSize, newPosition);\r\n            this.forceSync = true;\r\n        }\r\n    }\r\n\r\n    public moveView(direction: string): void {\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        const newPosition = this.scene.getMapCentralPosition();\r\n        switch (direction) {\r\n            case 'up':\r\n                newPosition.y -= VIEW_TRANSLATION;\r\n                break;\r\n            case 'down':\r\n                newPosition.y += VIEW_TRANSLATION;\r\n                break;\r\n            case 'left':\r\n                newPosition.x -= VIEW_TRANSLATION;\r\n                break;\r\n            case 'right':\r\n                newPosition.x += VIEW_TRANSLATION;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        const newViewSize = this.scene.getMapInfo();\r\n        this.gameService.requestNewView(newViewSize, newPosition);\r\n    }\r\n\r\n    public zoom(direction: string): void {\r\n        const newPosition = this.scene.getMapCentralPosition();\r\n        const newViewSize = this.scene.getMapInfo().clone();\r\n        if (direction === 'out') {\r\n            newViewSize.height += VIEW_ZOOM;\r\n            newViewSize.width += VIEW_ZOOM;\r\n        } else {\r\n            newViewSize.height -= VIEW_ZOOM;\r\n            newViewSize.width -= VIEW_ZOOM;\r\n        }\r\n        this.gameService.requestNewView(newViewSize, newPosition);\r\n    }\r\n\r\n    @HostListener('document:keyup', ['$event'])\r\n    public onKeyDown(event: any): void {\r\n        switch (event.keyCode) {\r\n            case LEFT_KEYCODE:\r\n                this.moveView('left');\r\n                break;\r\n            case UP_KEYCODE:\r\n                this.moveView('up');\r\n                break;\r\n            case RIGHT_KEYCODE:\r\n                this.moveView('right');\r\n                break;\r\n            case DOWN_KEYCODE:\r\n                this.moveView('down');\r\n                break;\r\n            case ZOOM_IN_KEYCODE:\r\n                this.zoom('in');\r\n                break;\r\n            case ZOOM_OUT_KEYCODE:\r\n                this.zoom('out');\r\n                break;\r\n        }\r\n    }\r\n\r\n    private resyncScene(syncMessage: SyncMessage): void {\r\n        const map = syncMessage.map;\r\n        const centralPositionChanged = this.scene.setMapCentralPosition(syncMessage.position);\r\n        const mapChanged = this.scene.updateMap(map);\r\n        if (this.forceSync || centralPositionChanged || mapChanged) {\r\n            this.scene.updatePlayers(syncMessage.players, syncMessage.totalMapSize);\r\n            this.forceSync = false;\r\n        }\r\n    }\r\n\r\n    private parseSpritesheet(playerSpritesheet: string[]): string[] {\r\n        const parsedSpriteSheet = [];\r\n        for (const playerGuid in playerSpritesheet) {\r\n            if (playerSpritesheet[playerGuid] !== undefined) {\r\n                const colorNumber = parseInt(playerSpritesheet[playerGuid], 10);\r\n                parsedSpriteSheet[playerGuid] = SpriteSheetColor[colorNumber];\r\n            }\r\n        }\r\n        return parsedSpriteSheet;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/game.component.ts","import * as PIXI from 'pixi.js';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { WebSocketService } from '../shared/providers/web-socket.service';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { IMessage } from '../shared/messages/iMessage';\r\nimport { MessageType } from '../shared/messages/messageType';\r\nimport { SyncMessage } from '../shared/messages/syncMessage';\r\nimport { SpriteSheetMessage } from '../shared/messages/spriteSheetMessage';\r\nimport { UpdateViewMessage } from '../shared/messages/updateViewMessage';\r\nimport { TurnMessage } from '../shared/messages/turnMessage';\r\n\r\n@Injectable()\r\nexport class GameService {\r\n\r\n    private readonly spritesheetData$: Observable<SpriteSheetMessage>;\r\n    private readonly mapData$: Observable<SyncMessage>;\r\n    private readonly gameTurn$: Observable<TurnMessage>;\r\n\r\n    public constructor(private webSocketService: WebSocketService) {\r\n        this.spritesheetData$ = this.webSocketService.message$.pipe(\r\n            filter((message: IMessage) => {\r\n                return message.type === MessageType.Spritesheet;\r\n            }),\r\n            map((message: SpriteSheetMessage) => {\r\n                return message;\r\n            })\r\n        );\r\n\r\n        this.mapData$ = this.webSocketService.message$.pipe(\r\n            filter((message: IMessage) => {\r\n                return message.type === MessageType.Sync;\r\n            }),\r\n            map((message: SyncMessage) => {\r\n                return message;\r\n            })\r\n        );\r\n\r\n        this.gameTurn$ = this.webSocketService.message$.pipe(\r\n            filter((message: IMessage) => {\r\n                return message.type === MessageType.Turn;\r\n            }),\r\n            map((message: TurnMessage) => {\r\n                return message;\r\n            })\r\n        );\r\n    }\r\n\r\n    public getSpritesheets(): Observable<SpriteSheetMessage> {\r\n        return this.spritesheetData$;\r\n    }\r\n\r\n    public getMapInfo(): Observable<SyncMessage> {\r\n        return this.mapData$;\r\n    }\r\n\r\n    public getTurn(): Observable<TurnMessage> {\r\n        return this.gameTurn$;\r\n    }\r\n\r\n    public requestNewView(mapSize: PIXI.Rectangle, position: PIXI.Point): void {\r\n        this.webSocketService.send(new UpdateViewMessage(mapSize, position));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/game/game.service.ts","module.exports = \".header {\\r\\n    text-align: center;\\r\\n    font-size: 24px;\\r\\n    font-weight: bold;\\r\\n    -webkit-box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);\\r\\n            box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);\\r\\n    height: 50px;\\r\\n    line-height: 50px;\\r\\n    color: #eeeeee;\\r\\n}\\r\\n\\r\\n.mat-card {\\r\\n    margin: 10px;\\r\\n    background: #eeeeee;\\r\\n}\\r\\n\\r\\n.mat-card:hover {\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.button-follow {\\r\\n    position: absolute;\\r\\n    top: 15px;\\r\\n    right: 15px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/leaderboard/leaderboard.component.css\n// module id = ./src/app/leaderboard/leaderboard.component.css\n// module chunks = main","module.exports = \"<mat-card *ngFor='let player of this.leaderboardService.getPlayersInfo() | async'>\\r\\n    <div>\\r\\n        <button mat-icon-button class=\\\"button-follow\\\" (click)=\\\"followPlayer(player)\\\">\\r\\n            <mat-icon *ngIf=\\\"bindedId !== player.playerId\\\" class=\\\"green-icon\\\">gps_not_fixed</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"bindedId === player.playerId\\\" class=\\\"green-icon\\\">gps_fixed</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-card-content>\\r\\n        <h2>{{ player.name }} - {{ player.currentHealth }}/{{ player.maximumHealth }} HP</h2>\\r\\n        <h3>Score: {{ player.score }}</h3>\\r\\n        <h3>{{ player.killCount }} kills - {{ player.deathCount }} deaths</h3>\\r\\n    </mat-card-content>\\r\\n</mat-card>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/leaderboard/leaderboard.component.html\n// module id = ./src/app/leaderboard/leaderboard.component.html\n// module chunks = main","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { IPlayerInfo } from './player-info';\r\nimport { LeaderboardService } from './leaderboard.service';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\n\r\nconst GODMODE_KEY = 71; // g\r\n@Component({\r\n    selector: 'app-leaderboard',\r\n    templateUrl: './leaderboard.component.html',\r\n    styleUrls: ['./leaderboard.component.css']\r\n})\r\nexport class LeaderboardComponent implements OnInit {\r\n    public bindedId: string;\r\n    private isGodMode: boolean;\r\n    private players: IPlayerInfo[];\r\n    private currentIndex: number;\r\n\r\n    public constructor(public leaderboardService: LeaderboardService) {\r\n        this.isGodMode = false;\r\n        this.currentIndex = 0;\r\n        this.leaderboardService.getPlayersInfo()\r\n            .subscribe((info) => {\r\n                this.players = info;\r\n            });\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        setInterval(() => this.switchPlayer(), 15000);\r\n    }\r\n\r\n    public followPlayer(player: IPlayerInfo): void {\r\n        if (this.bindedId && player.playerId === this.bindedId) {\r\n            this.unFollowPlayer();\r\n        } else {\r\n            this.bindedId = player.playerId;\r\n            this.leaderboardService.bindToPlayer(this.bindedId);\r\n        }\r\n        this.isGodMode = false;\r\n    }\r\n\r\n    private unFollowPlayer(): void {\r\n        this.bindedId = undefined;\r\n        this.leaderboardService.unbindToPlayer();\r\n    }\r\n\r\n    private switchPlayer(): void {\r\n        if (this.isGodMode && this.players) {\r\n            this.currentIndex = Math.floor(Math.random() * this.players.length);\r\n            const player = this.players[this.currentIndex];\r\n            this.bindedId = player.playerId;\r\n            this.leaderboardService.bindToPlayer(this.bindedId);\r\n            this.currentIndex %= this.players.length;\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keydown', ['$event'])\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        if (event.keyCode === GODMODE_KEY) {\r\n            this.isGodMode = !this.isGodMode;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/leaderboard/leaderboard.component.ts","import { Injectable } from '@angular/core';\r\nimport { IPlayerInfo } from './player-info';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { WebSocketService } from '../shared/providers/web-socket.service';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { MessageType } from '../shared/messages/messageType';\r\nimport { IMessage } from '../shared/messages/iMessage';\r\nimport { LeaderboardMessage } from '../shared/messages/leaderboardMessage';\r\nimport { BindPlayerMessage } from '../shared/messages/bindPlayerMessage';\r\n\r\n@Injectable()\r\nexport class LeaderboardService {\r\n\r\n    private readonly leaderboardData$: Observable<IPlayerInfo[]>;\r\n\r\n    public constructor(private webSocketService: WebSocketService) {\r\n        this.leaderboardData$ = this.webSocketService.message$.pipe(\r\n            filter((message: IMessage) => {\r\n                return message.type === MessageType.Leaderboard;\r\n            }),\r\n            map((message: LeaderboardMessage) => {\r\n                return message.leaderboard;\r\n            })\r\n        );\r\n    }\r\n\r\n    public getPlayersInfo(): Observable<IPlayerInfo[]> {\r\n        return this.leaderboardData$;\r\n    }\r\n\r\n    public bindToPlayer(playerId: string): void {\r\n        this.webSocketService.send(new BindPlayerMessage(playerId));\r\n    }\r\n\r\n    public unbindToPlayer(): void {\r\n        this.webSocketService.send(new BindPlayerMessage(''));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/leaderboard/leaderboard.service.ts","export enum AnimationDirection {\r\n    UP, DOWN, LEFT, RIGHT\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/animation/animationDirection.ts","export abstract class UsernameProperties {\r\n    public static readonly STYLE = { fontFamily: 'Arial', fontSize: '1.2em', align: 'center', fill: 'white'  };\r\n    public static readonly Y_OFFSET = 5;\r\n\r\n    public static xOffset(usernameWidth: number): number {\r\n        return usernameWidth / 4;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/animation/usernameProperties.ts","import { IMessage } from \"./iMessage\";\r\nimport { MessageType } from \"./messageType\";\r\n\r\nexport class BindPlayerMessage implements IMessage {\r\n    type: MessageType;\r\n    timestamp: Date;\r\n    playerId: string;\r\n\r\n    public constructor(playerId: string) {\r\n        this.playerId = playerId;\r\n        this.type = MessageType.Bind;\r\n        this.timestamp = new Date();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/messages/bindPlayerMessage.ts","export enum MessageType {\r\n    Sync,\r\n    Spritesheet,\r\n    PlayerInfo,\r\n    Leaderboard,\r\n    Turn,\r\n    Achievement,\r\n    Update,\r\n    Bind\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/messages/messageType.ts","import { MessageType } from './messageType';\r\nimport { IMessage } from './iMessage';\r\nimport * as PIXI from 'pixi.js';\r\n\r\nexport class UpdateViewMessage implements IMessage {\r\n    timestamp: Date;\r\n    type: MessageType;\r\n    viewSize: PIXI.Point;\r\n    position: PIXI.Point;\r\n\r\n    public constructor(viewSize: PIXI.Rectangle, location: PIXI.Point) {\r\n        this.type = MessageType.Update;\r\n        this.position = location;\r\n        this.viewSize = { x: viewSize.width, y: viewSize.height } as PIXI.Point;\r\n        this.timestamp = new Date();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/messages/updateViewMessage.ts","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { IPlayerInfo } from '../../leaderboard/player-info';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { IMessage } from '../messages/iMessage';\r\n\r\n@Injectable()\r\nexport class WebSocketService {\r\n    public readonly message$: Subject<IMessage>;\r\n    private socket: WebSocket;\r\n\r\n    constructor() {\r\n        this.socket = new WebSocket(`${environment.WS_URL}`);\r\n        this.message$ = new Subject();\r\n\r\n        this.socket.onmessage = (message: MessageEvent) => {\r\n            const messageData = JSON.parse(message.data) as IMessage;\r\n            this.message$.next(messageData);\r\n        };\r\n    }\r\n\r\n    public send(message: IMessage) {\r\n        this.socket.send(JSON.stringify(message));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/providers/web-socket.service.ts","import { NgModule } from '@angular/core';\r\nimport { WebSocketService } from './providers/web-socket.service';\r\n\r\n@NgModule({\r\n    providers: [\r\n        WebSocketService\r\n    ]\r\n})\r\nexport class SharedModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/shared.module.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n    production: false,\r\n    WS_URL: 'ws://localhost:4000/game'\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport 'hammerjs';\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}